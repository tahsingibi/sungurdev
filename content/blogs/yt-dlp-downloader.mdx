export const metadata = {
  title: `YouTube Downloader (yt-dlp & ffmpeg) - (macOS & windows)`,
  publishDate: '2025-10-18',
  description: `yt-dlp ve ffmpeg kurulumlarÄ±nÄ± kontrol eden, eksikse yÃ¶nlendiren ve indirme iÅŸlemini kolaylaÅŸtÄ±ran macOS (zsh) ve Windows (.bat) betikleri. AyrÄ±ca sistem gereksinimleri ve indirme linkleri.`,
  category: 'Script',
};

YouTube, Instagram, Twitter, Tiktok ve <a href="https://github.com/yt-dlp/yt-dlp/blob/master/supportedsites.md"target="_blank"rel="noopener noreferrer">yt-dlp paketinin desteklediÄŸi tÃ¼m video sitelerinden</a> istediÄŸin iÃ§eriÄŸi MP3 (ses) veya MP4 (video) formatÄ±nda iÃ§eriÄŸin en yÃ¼ksek kalitesine gÃ¶re indirmeni saÄŸlayan iki pratik betik.  

Her iki betik de `yt-dlp` ve `ffmpeg` araÃ§larÄ±nÄ±n sistemde kurulu olup olmadÄ±ÄŸÄ±nÄ± **otomatik kontrol eder**, eksikler varsa **kurulum talimatlarÄ±nÄ± ve indirme baÄŸlantÄ±larÄ±nÄ±** gÃ¶sterir, her ÅŸey hazÄ±rsa **doÄŸrudan indirmeye** geÃ§er.

Gerekli araÃ§lar: 
<a href="https://github.com/yt-dlp/yt-dlp" target="_blank" rel="noopener noreferrer">yt-dlp</a>, 
<a href="https://www.ffmpeg.org/download.html" target="_blank" rel="noopener noreferrer">ffmpeg</a>

Sistemine gÃ¶re istediÄŸin betiÄŸi belirtilen dosya ismiyle kaydedip Ã§alÄ±ÅŸtÄ±rmaya baÅŸladÄ±ÄŸÄ±nda, istediÄŸin iÃ§eriÄŸi, betiÄŸin bulunduÄŸu dizine direkt olarak indirir.


### macOS

macOS sisteminde `youtube.command` dosyasÄ±nÄ± oluÅŸturduktan sonra Ã§ift tÄ±kla Ã§alÄ±ÅŸtÄ±rabilmen iÃ§in `chmod +x youtube.command` komutunu Ã§alÄ±ÅŸtÄ±rman gerekiyor.

```bat/filename=youtube.command
#!/bin/zsh
# macOS - yt-dlp & ffmpeg kontrolÃ¼ yapan YouTube indirici (dÃ¶ngÃ¼lÃ¼)
# Dosyayi Ã§ift tiklamak icin .command olarak kaydedip: chmod +x youtube.command

set -euo pipefail
clear

echo "=================================================="
echo "ğŸ¬ YouTube Ä°ndirici (yt-dlp) â€” macOS - @tahsingibi"
echo "=================================================="
echo

# ----- Yardimci: bekletme -----
pause() {
    read -k 1 -s "?Devam etmek icin bir tusa basin..."
    echo
}

# ----- Ctrl-C yakalama -----
cleanup() {
    echo
    echo "ğŸ‘‹ Cikis yapiliyor..."
    exit 0
}
trap cleanup INT

# ----- Ã–n KoÅŸullar: komut kontrol -----
need_help=0

if ! command -v yt-dlp >/dev/null 2>&1; then
    echo "âŒ yt-dlp bulunamadi."
    echo
    echo "  Kurulum Yollari:"
    echo "  - Homebrew:  brew install yt-dlp"
    echo "  - MacPorts:  sudo port install yt-dlp"
    echo "  - Pipx (ops): pipx install yt-dlp"
    echo "  - Manuel:    https://github.com/yt-dlp/yt-dlp/releases/latest"
    echo
    need_help=1
fi

if ! command -v ffmpeg >/dev/null 2>&1; then
    echo "âŒ ffmpeg bulunamadi. (ses donusumu ve video birlestirme icin gerekli)"
    echo
    echo "  Kurulum Yollari:"
    echo "  - Homebrew:  brew install ffmpeg"
    echo "  - MacPorts:  sudo port install ffmpeg"
    echo "  - Manuel:    https://www.gyan.dev/ffmpeg/builds/ veya"
    echo "               https://github.com/BtbN/FFmpeg-Builds/releases"
    echo
    need_help=1
fi

if [[ $need_help -eq 1 ]]; then
    echo -n "Indirme sayfalarini acayim mi? [e/H]: "
    read open_choice
    if [[ "$open_choice" == [eEyY] ]]; then
        command -v open >/dev/null 2>&1 && {
            [[ ! $(command -v yt-dlp) ]] && open "https://github.com/yt-dlp/yt-dlp/releases/latest"
            [[ ! $(command -v ffmpeg) ]] && open "https://www.gyan.dev/ffmpeg/builds/"
        }
    fi
    echo
    echo "Lutfen gerekli araclari kurduktan sonra betigi yeniden calistirin."
    pause
    exit 1
fi

# Cikti dizini: betigin bulundugu klasor
SCRIPT_DIR="$(cd -- "$(dirname "$0")" && pwd)"

# ----- Indirme isini yapan fonksiyon -----
download_once() {
    local URL FORMAT
    echo
    read "URL?Lutfen indirmek istediginiz video URL'sini girin: "
    
    if [[ -z "${URL:-}" ]]; then
        echo "âŒ URL bos olamaz!"
        return 1
    fi
    
    echo
    echo "Hangi formatta indirmek istersiniz?"
    echo "1) ğŸµ MP3 (sadece ses)"
    echo "2) ğŸ¥ MP4 (video - tum cihazlar icin uyumlu)"
    read "FORMAT?Seciminiz (1 veya 2): "
    
    case "$FORMAT" in
        1)
            echo "ğŸ§ MP3 olarak indiriliyor..."
            yt-dlp \
                -x \
                --audio-format mp3 \
                --audio-quality 0 \
                -o "${SCRIPT_DIR}/%(title)s.%(ext)s" \
                "$URL"
            ;;
        2)
            echo "ğŸï¸ MP4 olarak indiriliyor (tum cihazlar icin uyumlu)..."
            yt-dlp \
                -f "bestvideo[ext=mp4]+bestaudio[ext=m4a]/bestvideo+bestaudio/best" \
                --merge-output-format mp4 \
                --recode-video mp4 \
                --postprocessor-args "ffmpeg:-c:v libx264 -c:a aac -strict experimental -b:a 192k -movflags +faststart" \
                -o "${SCRIPT_DIR}/%(title)s.%(ext)s" \
                "$URL"
            ;;
        *)
            echo "âŒ Gecersiz secim!"
            return 1
            ;;
    esac
    
    echo
    echo "âœ… Indirme tamamlandi!"
    echo "ğŸ“‚ Klasor: $SCRIPT_DIR"
    echo
}

# ----- Ana dÃ¶ngÃ¼: tekrar indir / cik -----
while true; do
    if ! download_once; then
        echo
        echo "Bir hata/iptal olustu (veya gecersiz secim)."
    fi
    
    # MenÃ¼
    echo
    echo "Ne yapmak istersiniz?"
    echo "1) â• Yeni bir indirme"
    echo "2) ğŸšª Ã‡Ä±kÄ±ÅŸ"
    read "NEXT?Seciminiz (1 veya 2): "
    
    case "$NEXT" in
        1) clear; continue ;;
        2) cleanup ;;
        *) echo "âŒ Gecersiz secim! Cikis yapiliyor..."; cleanup ;;
    esac
done
```

### Windows
```bat/filename=youtube.bat
@echo off
setlocal ENABLEDELAYEDEXPANSION
title ğŸ¬ YouTube Ä°ndirici (yt-dlp)
chcp 65001 >nul
cls

echo ============================================
echo ğŸ¬ YouTube Ä°ndirici (yt-dlp) @tahsingibi
echo ============================================
echo.

:: -------- Ã–n KoÅŸullar: PowerShell kontrolÃ¼ --------
where powershell >nul 2>&1
if errorlevel 1 (
  echo âŒ PowerShell bulunamadi. Windows 10/11'de varsayilan olarak gelir.
  echo    Alternatif: https://aka.ms/PowerShell
  echo.
  pause
  exit /b 1
)

:: -------- Ã–n KoÅŸullar: yt-dlp ve ffmpeg kontrolÃ¼ --------
set "NEED_HELP="

where yt-dlp >nul 2>&1
if errorlevel 1 where yt-dlp.exe >nul 2>&1
if errorlevel 1 (
  echo âŒ yt-dlp bulunamadi.
  echo.
  echo   Kurulum Yollari:
  echo   - winget:      winget install -e --id yt-dlp.yt-dlp
  echo   - chocolatey:  choco install yt-dlp
  echo   - scoop:       scoop install yt-dlp
  echo   - Manuel:      https://github.com/yt-dlp/yt-dlp/releases/latest
  echo.
  set "NEED_HELP=1"
)

where ffmpeg >nul 2>&1
if errorlevel 1 (
  echo âŒ ffmpeg bulunamadi. (ses donusumu ve video birlestirme icin gerekli)
  echo.
  echo   Kurulum Yollari:
  echo   - winget:      winget install -e --id Gyan.FFmpeg
  echo   - chocolatey:  choco install ffmpeg
  echo   - scoop:       scoop install ffmpeg
  echo   - Manuel:      https://www.gyan.dev/ffmpeg/builds/
  echo                 veya https://github.com/BtbN/FFmpeg-Builds/releases
  echo.
  set "NEED_HELP=1"
)

if defined NEED_HELP (
  call :maybeOpenPages
  echo.
  echo Yukaridaki araclari kurduktan sonra bu betigi tekrar calistirin.
  pause
  exit /b 1
)

:: -------- Indirme Akisi --------
set /p URL=Lutfen indirmek istediginiz video URL'sini girin: 
if "%URL%"=="" (
    echo.
    echo âŒ URL bos olamaz!
    pause
    exit /b
)

echo.
echo Hangi formatta indirmek istersiniz?
echo 1^) ğŸµ MP3 (sadece ses)
echo 2^) ğŸ¥ MP4 (video)
set /p FORMAT=Seciminiz (1 veya 2): 

set "SCRIPT_DIR=%~dp0"

if "%FORMAT%"=="1" (
    echo.
    echo ğŸ§ MP3 olarak indiriliyor...
    powershell -NoLogo -Command ^
      yt-dlp -x --audio-format mp3 -o "\"%SCRIPT_DIR%/%%(title)s.%%(ext)s\"" "%URL%"
    goto done
)

if "%FORMAT%"=="2" (
    echo.
    echo ğŸï¸ MP4 olarak indiriliyor...
    powershell -NoLogo -Command ^
      yt-dlp -S "ext:mp4:m4a" -f "bv*[ext=mp4]+ba[ext=m4a]/b[ext=mp4]/best" ^
      -o "\"%SCRIPT_DIR%/%%(title)s.%%(ext)s\"" "%URL%"
    goto done
)

echo.
echo âŒ Gecersiz secim!
pause
exit /b 1

:done
echo.
echo âœ… Indirme tamamlandi!
echo ğŸ“‚ Klasor: %SCRIPT_DIR%
echo.
pause
exit /b 0

:maybeOpenPages
echo Indirme sayfalarini acmak ister misiniz? [E/H]
set /p OPEN=Secim: 
if /I "%OPEN%"=="E" (
  start "" "https://github.com/yt-dlp/yt-dlp/releases/latest"
  start "" "https://www.gyan.dev/ffmpeg/builds/"
)
exit /b
```
